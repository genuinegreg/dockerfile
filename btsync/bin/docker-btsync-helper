#!/bin/bash

OK=0
FAIL=1

NORMAL=$(tput sgr0)
GREEN=$(tput setaf 2; tput bold)
YELLOW=$(tput setaf 3)
RED=$(tput setaf 1
)
function red() {
    echo -e "$RED$*$NORMAL"
}

function green() {
    echo -e "$GREEN$*$NORMAL"
}

function yellow() {
    echo -e "$YELLOW$*$NORMAL"
}

if [ ${#1} -le 32 ]
then
    red "ERROR ! Secret have 32 characters"
    yellow "USAGE : $0 SECRET PORT"
    exit $exit
fi

if [ ${#2} -le 0 ]
then
    red "ERROR ! Missing port"
    yellow "USAGE : $0 SECRET PORT"
    exit $exit
fi



mkdir -p /data/docker/btsync/$1
green "diretory /data/docker/btsync/$1 created"

echo RUNNING : docker run -d -p $2:27027 -e NAME="`hostname`" -v /data/docker/btsync/$1:/btsync_data -e SECRET="$1" genuinegreg/btsync
docker run -d -p $2:27027 -e NAME="`hostname`" -v /data/docker/btsync/$1:/btsync_data -e SECRET="$1" genuinegreg/btsync